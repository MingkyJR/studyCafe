<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
          "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="mapper.userinfo">
 	
 	<!-- 로그인 및 회원가입관련 -->
 	<!-- 쿼리 들어가야됨 -->
 	
 	<!-- ★★★회원가입 관련 -->
	<!-- 회원정보 등록 -->
		<insert id="insertUserInfo"  parameterType="com.ourcom.app3.domain.User_info">
			<![CDATA[
			insert into user_info(user_number,u_name,u_id,u_pass,u_grade,u_tell,u_gender)
			values(seq_user_info.nextval,#{u_name},#{u_id},#{u_pass},999,#{u_tell},#{u_gender});
			]]>
		</insert>
	
	
	
	<!-- ★★★마이페이지 관련 -->
	
	<!-- 회원정보 상세조회(회원정보 불러오기) -->
	
	<!-- 특정 회원조회 -->
	<select id="getUser_number" 
	        resultType="int"
	        parameterType="int">
	  <![CDATA[		
		select user_number from user_info where user_number=#{no}
	  ]]>
	</select>

	<!-- 회원정보 수정 -->
	
	<!-- 회원 탈퇴 -->
	
	<!-- 특정 회원 조회 -->
	
	
	
	
	<!-- ★★★로그인 관련 --> 

	<select id="loginCheck" resultType="String">
		 <![CDATA[	
			SELECT u_name AS user_name FROM user_info
			WHERE u_id = #{user_id} AND u_pass = #{user_pass}
			]]>
	</select>
	
	<select id="view_user" resultType="com.studycafe.userinfo.domain.User_info">
		<![CDATA[	
			SELECT u_name AS user_name,
			u_id AS user_id,
			u_tell AS user_tell,
			u_gender AS user_gender,
			u_credate AS user_credate
			FROM user_info
			WHERE u_id = #{user_id} AND u_pass = #{user_pass}
		]]>
	</select>
	
 
 
 </mapper>